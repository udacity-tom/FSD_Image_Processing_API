<!DOCTYPE html>
<html lang="en" dir="ltr">
<main>    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content= "width-device-width, initial-scale=1.0">
        <title>Image Processing API</title>
    </head>
    <style>
        body {
            margin: 50px;
        }

        span {
            text-decoration: line-through;
        }

        code {
            font-size: x-large;
            }
    </style>
    <body>
        <section>
            <p><a href="/convertImage?filename=fjord.jpg&format=png&width=300&height=300">Return to test image conversion link</a></p>
        </section>
        <section>
            <h1>Using the Image Processing API</h1>

            <h2>An Overview</h2>
            <p>This Image Processing API was created to enable reprocessing of images into various sizes and file types.</p>
            <p>Using the URL noted in the example below, the requested image file can be resized and re-formatted to whatever the user requires from the original image.</p>
            <p>After the initial server request, the file is created based on the URL request parameters as detailed and described below.</p>
            <p>Once created, the file will be delivered from disk instead of re-creating effectively caching the image on the local server.</p>
            <p>Meaning the URL request can be used as a placeholder for the resized and reformatted image.</p>
            <br>
        </section>
        <section>
            <h2>Generic Example & Explanation</h2>
            <p>Use the following URL to reference how to access the API. The converted file can be called with the same URL used to resize the image.</p>
            <br>
            <code>http://localhost:3001/convertImage?filename=IMAGE_FILENAME&format=OUTPUT_FORMAT&width=WIDTH_PIXELS&height=HEIGHT_PIXELS</code>
            <br>
            <p>Where HEIGHT_PIXELS represents the desired resized image height, as a number, in pixels.</p>
            <p>Where WIDTH_PIXELS represents the desired resized image width, as a number, in pixels.</p>
            <p>OUTPUT_FORMAT represents the desired image format, as described below.</p>
            <p>Where IMAGE_FILENAME is the filename of the image to be processed. </p>
            <p>A demonstration file has been placed in 'assets/full' folder. By clicking the following link a thumbnail image will be created and placed in 'assets/thumb' folder.</p>
            <code><a href="http://localhost:3001/convertImage?filename=fjord.jpg&format=png&width=300&height=300">http://localhost:3001/convertImage?filename=fjord.jpg&format=png&width=300&height=300</a></code>
            <br>
        </section>
        <section>
            <h2>Image File Formats</h2>
            <p></p>
                <p>Accepted input image formats for IMAGE_FILENAME with the following file extensions will be automatically detected are: </p>
                <ul>
                    <li>JPEG '.jpg'</li>
                    <li>PNG '.png'</li>
                    <li>WebP '.webp'</li>
                    <li>AVIF '.avif'</li>
                    <li>TIFF '.tif'</li>
                    <li>DZI '.dzi'</li>
                    <li>libvips' V</li>
                </ul>
                <p>The following lists potential output formats. </p>
                <p>Valid values for OUTPUT_FORMAT are: </p>
                <ul>
                    <li>JPEG 'jpg'</li>
                    <li>PNG 'png'</li>
                    <li>WebP 'webp'</li>
                    <li>AVIF 'avif'</li>
                    <li>TIFF 'tiff'</li>
                    <li>RAW 'raw'</li>
                </ul>
            </p>
            <p></p>
        </section>
        <section>
            <h2><strong>Image Locations</strong></h2>
                <p></p>
                <p>The returned images are linkable by the URL used to resize them.</p>
                <p>Original images are stored on the server in the 'assets/full' directory in the root of the project.. </p>
                <p>The resized immages are created and saved in the 'assets/thumb' directory within the 'assets' directory.</p>
        </section>
        <section>
            <h2><strong>Example 1</strong></h2>
                <p>The following URL resizes an image with the name: myimage.png to 300 pixels wide by 300 pixels high converting the results to jpg file format.</p>
                <p>IMAGE_FILENAME : myimage.png</p>
                <p>OUTPUT_FORMAT : jpg</p>
                <p>WIDTH_PIXELS : 300</p>
                <p>HEIGHT_PIXELS : 300</p>
                <p>Enter the following URL to obtain the desired image resizing.</p>
                <code>http://localhost:3001/convertImage?filename=yourimage.png&format=jpg&width=300&height=300</code>
        </section>
        <section>
            <h2><strong>Example 2</strong></h2>
                <p>The following URL resizes an image with the name: yourimage.png to 800 pixels wide by 500 pixels high saving the results to png file format.</p>
                <p>IMAGE_FILENAME : myimage.png</p>
                <p><span>OUTPUT_FORMAT : png</span> *When saving in the original output format this option is unneeded.</p>
                <p>WIDTH_PIXELS : 300</p>
                <p>HEIGHT_PIXELS : 300</p>
                <p>Enter the following URL to obtain the desired image resizing.</p>
                <code>http://localhost:3001/convertImage?filename=yourimage.png&width=800&height=500</code>
                <br>
        </section>
    </body>
</main>